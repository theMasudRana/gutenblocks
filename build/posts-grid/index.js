(()=>{"use strict";var e,t={684:()=>{const e=window.wp.blocks,t=window.wp.i18n,s=window.wp.blockEditor,r=window.wp.components,n=window.wp.data,o=window.wp.coreData,a=window.wp.element,l=window.wp.date,i=1,d=12,c=1,g=4,p=1,u=40,b=window.ReactJSXRuntime,m=({attributes:e,setAttributes:n})=>{const{numberOfPosts:o,numberOfColumns:a,displayExcerpt:l,excerptLength:m,displayFeaturedImage:_,order:h}=e;return(0,b.jsx)(s.InspectorControls,{children:(0,b.jsxs)(r.PanelBody,{title:(0,t.__)("Posts Grid Settings","gutenblocks"),children:[(0,b.jsx)(r.RangeControl,{label:(0,t.__)("Number of Posts","gutenblocks"),value:o,onChange:e=>n({numberOfPosts:e}),min:i,max:d}),(0,b.jsx)(r.RangeControl,{label:(0,t.__)("Number of Columns","gutenblocks"),value:a,onChange:e=>n({numberOfColumns:e}),min:c,max:g}),(0,b.jsx)(r.ToggleControl,{label:(0,t.__)("Display Featured Image","gutenblocks"),checked:_,onChange:e=>n({displayFeaturedImage:e})}),(0,b.jsx)(r.ToggleControl,{label:(0,t.__)("Display Post Excerpt","gutenblocks"),checked:l,onChange:e=>n({displayExcerpt:e})}),l&&(0,b.jsx)(r.RangeControl,{label:(0,t.__)("Excerpt Length","gutenblocks"),value:m,onChange:e=>n({excerptLength:e}),min:p,max:u,help:(0,t.__)("Number of words to show in excerpt","gutenblocks")}),(0,b.jsx)(r.SelectControl,{label:(0,t.__)("Order","gutenblocks"),value:h,options:[{label:(0,t.__)("Descending","gutenblocks"),value:"desc"},{label:(0,t.__)("Ascending","gutenblocks"),value:"asc"}],onChange:e=>n({order:e})})]})})},_=(e,t)=>{const s=document.createElement("div");s.innerHTML=e;const r=(s.textContent||s.innerText).split(/\s+/),n=r.slice(0,t);return r.length>t?`${n.join(" ")}...`:n.join(" ")},h=({post:e,attributes:s,dateFormat:r})=>{const{displayExcerpt:n,excerptLength:o,displayFeaturedImage:a}=s;return(0,b.jsxs)("article",{className:"gtb-posts-grid__item",children:[a&&e._embedded?.["wp:featuredmedia"]&&(0,b.jsx)("img",{className:"gtb-posts-grid__image",src:e._embedded["wp:featuredmedia"][0].source_url,alt:e.title.rendered}),(0,b.jsxs)("div",{className:"gtb-posts-grid__content",children:[(0,b.jsx)("h3",{className:"gtb-posts-grid__title",children:(0,b.jsx)("a",{href:e.link,dangerouslySetInnerHTML:{__html:e.title.rendered}})}),n&&e.excerpt.rendered&&(0,b.jsx)("div",{className:"gtb-posts-grid__excerpt",children:(0,b.jsx)("p",{children:_(e.excerpt.rendered,o)})}),(0,b.jsxs)("div",{className:"gtb-posts-grid__meta",children:[e.date_gmt&&(0,b.jsx)("time",{dateTime:(0,l.format)("c",e.date_gmt),className:"gtb-posts-grid__post-date",children:(0,l.dateI18n)(r,e.date_gmt)}),(0,b.jsx)("a",{href:e.link,className:"gtb-posts-grid__read-more",children:(0,t.__)("Read More","gutenblocks")})]})]})]})},x=JSON.parse('{"UU":"gutenblocks/posts-grid"}');(0,e.registerBlockType)(x.UU,{edit:({attributes:e,setAttributes:i})=>{const{numberOfPosts:d,numberOfColumns:c,order:g}=e,p=(0,a.useMemo)((()=>({per_page:d,_embed:!0,order:g})),[d,g]),{posts:u,hasResolved:_}=(0,n.useSelect)((e=>{const t=["postType","post",p];return{posts:e(o.store).getEntityRecords(...t),hasResolved:e(o.store).hasFinishedResolution("getEntityRecords",t)}}),[p]),x=(0,l.getSettings)().formats.date,w=(0,s.useBlockProps)({className:`gtb-posts-grid gtb-posts-grid--columns-${c}`});return _?!u?.length&&_?(0,b.jsx)("div",{...w,children:(0,t.__)("No posts found.","gutenblocks")}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m,{attributes:e,setAttributes:i}),(0,b.jsx)("div",{...w,children:u?.map((t=>(0,b.jsx)(h,{post:t,attributes:e,dateFormat:x},t.id)))})]}):(0,b.jsx)("div",{...w,children:(0,b.jsx)(r.Spinner,{className:"gtb-posts-grid__spinner"})})}})}},s={};function r(e){var n=s[e];if(void 0!==n)return n.exports;var o=s[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,s,n,o)=>{if(!s){var a=1/0;for(c=0;c<e.length;c++){for(var[s,n,o]=e[c],l=!0,i=0;i<s.length;i++)(!1&o||a>=o)&&Object.keys(r.O).every((e=>r.O[e](s[i])))?s.splice(i--,1):(l=!1,o<a&&(a=o));if(l){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,n,o]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={636:0,108:0};r.O.j=t=>0===e[t];var t=(t,s)=>{var n,o,[a,l,i]=s,d=0;if(a.some((t=>0!==e[t]))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(i)var c=i(r)}for(t&&t(s);d<a.length;d++)o=a[d],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},s=globalThis.webpackChunkgutenblocks=globalThis.webpackChunkgutenblocks||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=r.O(void 0,[108],(()=>r(684)));n=r.O(n)})();