(()=>{"use strict";var e,s={601:()=>{const e=window.wp.blocks,s=window.wp.blockEditor,n=window.wp.components,t=window.wp.i18n,r=window.wp.element,o=(0,r.forwardRef)((function({icon:e,size:s=24,...n},t){return(0,r.cloneElement)(e,{width:s,height:s,...n,ref:t})})),i=window.wp.primitives,a=window.ReactJSXRuntime,l=(0,a.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(i.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),c=JSON.parse('{"UU":"gutenblocks/quiz"}');(0,e.registerBlockType)(c.UU,{edit:({attributes:e,setAttributes:r})=>{const{questions:i=[],correctAnswers:c=[]}=e,u=e=>{r(e({questions:i,correctAnswers:c}))};return(0,a.jsxs)("div",{...(0,s.useBlockProps)(),children:[i.map(((e,s)=>{var r;return(0,a.jsxs)("div",{className:"gtb-quiz__question",children:[(0,a.jsx)(n.TextControl,{label:(0,t.__)("Enter Question Title","gutenblocks"),value:e.question,className:"gtb-quiz__question-title",__nextHasNoMarginBottom:!1,onChange:e=>u((n=>((e,s,n)=>({questions:e.questions.map(((e,t)=>t===s?{...e,question:n}:e))}))(n,s,e)))}),e.answers.map(((r,i)=>(0,a.jsxs)("div",{className:"gtb-quiz__answer",children:[(0,a.jsx)(n.TextControl,{label:(0,t.__)("Answer","gutenblocks"),value:r,__nextHasNoMarginBottom:!0,onChange:e=>u((n=>((e,s,n,t)=>({questions:e.questions.map(((e,r)=>r===s?{...e,answers:e.answers.map(((e,s)=>s===n?t:e))}:e))}))(n,s,i,e)))}),(0,a.jsx)(n.Button,{className:"gtb-quiz__remove-answer",isDestructive:!0,onClick:()=>u((e=>((e,s,n)=>({questions:e.questions.map(((e,t)=>t===s?{...e,answers:e.answers.filter(((e,s)=>s!==n))}:e)),correctAnswers:e.correctAnswers.map(((n,t)=>{if(t!==s)return n;const r=e.questions[t].answers.length;return null!==n&&n<r-1?n:null}))}))(e,s,i))),disabled:e.answers.length<=1,children:(0,a.jsx)(o,{icon:l})})]},i))),(0,a.jsx)(n.Button,{className:"gtb-quiz__add-answer",variant:"secondary",onClick:()=>u((e=>((e,s)=>({questions:e.questions.map(((e,n)=>n===s?{...e,answers:[...e.answers,""]}:e))}))(e,s))),children:(0,t.__)("Add Answer","gutenblocks")}),(0,a.jsx)(n.RadioControl,{className:"gtb-quiz__correct-answer",label:(0,t.__)("Correct Answer","gutenblocks"),selected:null!==c[s]&&void 0!==c[s]?(null!==(r=c[s])&&void 0!==r?r:"").toString():void 0,options:e.answers.map(((e,s)=>({label:e||`Answer ${s+1}`,value:s.toString()}))),onChange:e=>u((n=>((e,s,n)=>{const t=[...e.correctAnswers];return t[s]=parseInt(n,10),{correctAnswers:t}})(n,s,e)))}),(0,a.jsx)(n.Button,{className:"gtb-quiz__remove-question",isDestructive:!0,onClick:()=>u((e=>((e,s)=>({questions:e.questions.filter(((e,n)=>n!==s)),correctAnswers:e.correctAnswers.filter(((e,n)=>n!==s))}))(e,s))),children:(0,a.jsx)(o,{icon:l})})]},s)})),(0,a.jsx)(n.Button,{variant:"primary",onClick:()=>u((e=>(e=>({questions:[...e.questions,{question:"",answers:[""]}],correctAnswers:[...e.correctAnswers,null]}))(e))),className:"gtb-quiz__add-question",children:(0,t.__)("Add Question","gutenblocks")})]})}})}},n={};function t(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return s[e](o,o.exports,t),o.exports}t.m=s,e=[],t.O=(s,n,r,o)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,r,o]=e[u],a=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(t.O).every((e=>t.O[e](n[l])))?n.splice(l--,1):(a=!1,o<i&&(i=o));if(a){e.splice(u--,1);var c=r();void 0!==c&&(s=c)}}return s}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={437:0,313:0};t.O.j=s=>0===e[s];var s=(s,n)=>{var r,o,[i,a,l]=n,c=0;if(i.some((s=>0!==e[s]))){for(r in a)t.o(a,r)&&(t.m[r]=a[r]);if(l)var u=l(t)}for(s&&s(n);c<i.length;c++)o=i[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(u)},n=globalThis.webpackChunkgutenblocks=globalThis.webpackChunkgutenblocks||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))})();var r=t.O(void 0,[313],(()=>t(601)));r=t.O(r)})();