{"version":3,"file":"quiz/view.js","mappings":"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","sources":["webpack://gutenblocks/external module \"@wordpress/interactivity\"","webpack://gutenblocks/webpack/bootstrap","webpack://gutenblocks/webpack/runtime/make namespace object","webpack://gutenblocks/./src/quiz/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext } from '@wordpress/interactivity';\n\n// Quiz functionality\nconst { state } = store( 'gutenblocks/quiz', {\n\tactions: {\n\t\tresetQuiz: () => {\n\t\t\tconst dilogElement = document.querySelector(\n\t\t\t\t'.gtb-quiz__status-dialog'\n\t\t\t);\n\n\t\t\tstate.answered = 0;\n\t\t\tstate.correct = 0;\n\t\t\tstate.allCorrect = false;\n\n\t\t\t// Reset all radio inputs\n\t\t\tconst allInputs = document.querySelectorAll(\n\t\t\t\t'.gtb-quiz__answer-input'\n\t\t\t);\n\t\t\tallInputs.forEach( ( input ) => {\n\t\t\t\tinput.checked = false;\n\t\t\t} );\n\n\t\t\t// Close dialog if open\n\t\t\tif ( dilogElement && dilogElement.open ) {\n\t\t\t\tdilogElement.close();\n\t\t\t}\n\t\t},\n\t\tcheckAnswers: () => {\n\t\t\tconst { questions } = getContext();\n\t\t\tconst checkedInputs = document.querySelectorAll(\n\t\t\t\t'.gtb-quiz__answer-input:checked'\n\t\t\t);\n\t\t\tconst dilogElement = document.querySelector(\n\t\t\t\t'.gtb-quiz__status-dialog'\n\t\t\t);\n\t\t\tconst answerMap = new Map(\n\t\t\t\tArray.from( checkedInputs ).map( ( input ) => [\n\t\t\t\t\tparseInt( input.name.split( '_' )[ 1 ], 10 ),\n\t\t\t\t\tinput.value,\n\t\t\t\t] )\n\t\t\t);\n\n\t\t\t// Reset previous results before checking\n\t\t\tstate.answered = 0;\n\t\t\tstate.correct = 0;\n\n\t\t\t// Calculate correct answers\n\t\t\tquestions.forEach( ( question, index ) => {\n\t\t\t\tconst userAnswer = answerMap.get( index );\n\t\t\t\tif ( userAnswer ) {\n\t\t\t\t\tstate.answered++;\n\t\t\t\t\tif (\n\t\t\t\t\t\tuserAnswer === question.answers[ state.list[ index ] ]\n\t\t\t\t\t) {\n\t\t\t\t\t\tstate.correct++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Update necessary state\n\t\t\tstate.allCorrect =\n\t\t\t\tstate.answered === questions.length &&\n\t\t\t\tstate.correct === questions.length;\n\n\t\t\tdilogElement.showModal();\n\t\t},\n\t\tmodalClose: () => {\n\t\t\tconst dilogElement = document.querySelector(\n\t\t\t\t'.gtb-quiz__status-dialog'\n\t\t\t);\n\n\t\t\t// Reset all quiz state and inputs\n\t\t\tstate.answered = 0;\n\t\t\tstate.correct = 0;\n\t\t\tstate.allCorrect = false;\n\n\t\t\t// Reset all radio inputs\n\t\t\tconst allInputs = document.querySelectorAll(\n\t\t\t\t'.gtb-quiz__answer-input'\n\t\t\t);\n\t\t\tallInputs.forEach( ( input ) => {\n\t\t\t\tinput.checked = false;\n\t\t\t} );\n\n\t\t\t// Close the dialog\n\t\t\tdilogElement.close();\n\t\t},\n\t},\n} );\n"],"names":["store","getContext","state","actions","resetQuiz","dilogElement","document","querySelector","answered","correct","allCorrect","allInputs","querySelectorAll","forEach","input","checked","open","close","checkAnswers","questions","checkedInputs","answerMap","Map","Array","from","map","parseInt","name","split","value","question","index","userAnswer","get","answers","list","length","showModal","modalClose"],"sourceRoot":""}